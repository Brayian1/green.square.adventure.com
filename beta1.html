<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ü–∏–∫—Å–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞ - –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∫–≤–∞–¥—Ä–∞—Ç–∞</title>
</head>
<body>
  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
  <div class="game-container">
    <h1>–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∫–≤–∞–¥—Ä–∞—Ç–∞</h1>

    <!-- –ü–∞–Ω–µ–ª—å –æ–ø—ã—Ç–∞ (–Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ) -->
    <div class="exp-container" id="expContainerStart">
      <div class="exp-info">
        <span>–†–∞–Ω–≥: <strong id="rankLevelStart">1</strong></strong></span>
        <span><span id="currentExpStart">0</span>/<span id="requiredExpStart">100</span> –æ–ø—ã—Ç–∞</span>
      </div>
      <div class="exp-bar-outer">
        <div class="exp-bar-inner" id="expBarStart"></div>
        <div class="exp-glow"></div>
      </div>
    </div>

    <!-- –ú–æ–Ω–µ—Ç—ã -->
    <p>–ú–æ–Ω–µ—Ç—ã: <strong id="totalCoins">0</strong></p>

    <!-- –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é -->
    <div class="menu-buttons">
      <div class="menu-row">
        <button class="start-btn" onclick="startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        <button class="difficulty-btn" onclick="showDifficultyScreen()">–°–ª–æ–∂–Ω–æ—Å—Ç—å</button>
      </div>
      <div class="menu-row">
        <button class="square-btn glory-btn" onclick="showGloryRoad()">üèÜ</button>
        <button class="square-btn" onclick="showShop()">üõí</button>
        <button class="square-btn reset-btn" onclick="showResetScreen()">
          üîÅ
          <span id="resetBadge" class="reset-badge">0</span>
        </button>
      </div>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
  <div id="difficultyScreen" class="difficulty-screen" style="display: none;">
    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</h2>
    <div class="menu-row">
      <button class="difficulty-btn active" onclick="setDifficulty('easy')">–õ–µ–≥–∫–æ</button>
      <button class="difficulty-btn" onclick="setDifficulty('normal')">–°—Ä–µ–¥–Ω–µ</button>
      <button class="difficulty-btn" onclick="setDifficulty('hard')">–°–ª–æ–∂–Ω–æ</button>
    </div>
    <button class="back-to-main-btn" onclick="saveAndReturnToMain()">–ù–∞–∑–∞–¥</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã -->
  <div id="gameScreen" class="game-screen" style="display: none;">
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div class="controls">WASD / –°—Ç—Ä–µ–ª–∫–∏ ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ, Q ‚Äî –≤–æ–ª–Ω–∞, E ‚Äî –º–∞–≥–Ω–∏—Ç</div>
    <p>–£—Ä–æ–≤–µ–Ω—å: <strong id="level">1</strong> | –ñ–∏–∑–Ω–∏: <strong id="lives">10</strong> | –°—á—ë—Ç: <strong id="score">0</strong></p>
    <p>–ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞ –≤–æ–ª–Ω—ã: <strong id="waveCooldown">–ì–æ—Ç–æ–≤–∞</strong> | –ú–∞–≥–Ω–∏—Ç: <strong id="magnetCooldown">–ì–æ—Ç–æ–≤</strong></p>
    <button class="pause-btn" onclick="togglePause()">–ü–∞—É–∑–∞</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –ø–∞—É–∑—ã -->
  <div id="pauseScreen" class="pause-screen" style="display: none;">
    <h2>–ü–∞—É–∑–∞</h2>
    <button onclick="hidePauseScreen()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    <button onclick="restartGame()">–ó–∞–Ω–æ–≤–æ</button>
    <button onclick="saveAndReturnToMain()">–í –º–µ–Ω—é</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è -->
  <div id="levelComplete" class="level-complete" style="display: none;">
    <h2 id="levelCompleteText">–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
    <button onclick="nextLevel()">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
    <button onclick="restartGame()">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –ø–æ—Ä–∞–∂–µ–Ω–∏—è -->
  <div id="gameOver" class="game-over" style="display: none;">
    <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞</h2>
    <p id="finalScore">–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ X. –°–æ–±—Ä–∞–Ω–æ X –º–æ–Ω–µ—Ç.</p>
    <button onclick="restartGame()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –ø–æ–±–µ–¥—ã -->
  <div id="winScreen" class="win-screen" style="display: none;">
    <h2 id="winText">üéâ –ü–æ–±–µ–¥–∞! –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!</h2>
    <p>–í—ã —Å–æ–±—Ä–∞–ª–∏ <strong id="finalWinScore">0</strong> –º–æ–Ω–µ—Ç.</p>
    <button onclick="restartGame()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω —Å–ª–∞–≤—ã (Glory Road) -->
  <div id="gloryRoad" class="glory-road" style="display: none;">
    <h2>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è</h2>
    <div class="episodes">
      <div class="episode">
        <h3 class="episode-title">–≠–ø–∏–∑–æ–¥ 1: –°–≤–µ—Ç–ª—ã–µ —Ä–∞–≤–Ω–∏–Ω—ã</h3>
        <div class="levels" id="episode1Levels"></div>
      </div>
      <div class="episode">
        <h3 class="episode-title">–≠–ø–∏–∑–æ–¥ 2: –¢—ë–º–Ω—ã–µ –≥–ª—É–±–∏–Ω—ã</h3>
        <div class="levels" id="episode2Levels"></div>
      </div>
    </div>
    <button class="back-to-main-btn" onclick="saveAndReturnToMain()">–ù–∞–∑–∞–¥</button>
  </div>

  <!-- –ú–∞–≥–∞–∑–∏–Ω -->
  <div id="shopScreen" class="shop-screen" style="display: none;">
    <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
    <div class="tab-buttons">
      <button class="tab-btn active" id="tab-abilities" onclick="switchTab('abilities')">–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏</button>
      <button class="tab-btn" id="tab-power" onclick="switchTab('power')">–°–∏–ª–∞</button>
      <button class="bonus-tab-btn" id="tab-bonuses" onclick="switchTab('bonuses')">–ë–æ–Ω—É—Å—ã</button>
    </div>
    <div id="shopItems"></div>
    <button class="back-to-main-btn" onclick="saveAndReturnToMain()">–ù–∞–∑–∞–¥</button>
  </div>

  <!-- –≠–∫—Ä–∞–Ω —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
  <div id="resetScreen" class="reset-screen" style="display: none;">
    <h2>–°–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</h2>
    <p>–í—ã –º–æ–∂–µ—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, —Å–æ—Ö—Ä–∞–Ω–∏–≤ —Å–≤–æ–π —Ä–∞–Ω–≥.</p>
    <p>–°–±—Ä–æ—Å–æ–≤: <strong id="resetCount">0</strong></p>
    <div class="tooltip-container">
      <button class="reset-button" onclick="confirmReset()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–±—Ä–æ—Å</button>
      <div class="reset-tooltip" id="resetTooltip">–î–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ 10, 20, 30... —Ä–∞–Ω–≥–∞—Ö</div>
    </div>
    <button class="back-to-main-btn" onclick="cancelReset()">–û—Ç–º–µ–Ω–∞</button>
  </div>

  <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
  <div id="notification" class="notification"></div>

  <!-- –ê—É–¥–∏–æ -->
  <audio id="coinSound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-game-ball-tap-2073.mp3" type="audio/mpeg" />
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-game-ball-tap-2073.ogg" type="audio/ogg" />
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
  </audio>
  <audio id="hitSound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-boxing-punch-2051.mp3" type="audio/mpeg" />
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-boxing-punch-2051.ogg" type="audio/ogg" />
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
  </audio>
  <audio id="levelUpSound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-positive-notification-948.mp3" type="audio/mpeg" />
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-positive-notification-948.ogg" type="audio/ogg" />
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
  </audio>
</body>
</html>